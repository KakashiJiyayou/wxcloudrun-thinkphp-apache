<div class="container-fluid">
  <!-- begin row -->
  <div class="row">
    <div class="col-md-12 m-b-30">
      <!-- begin page title -->
      <div class="d-block d-sm-flex flex-nowrap align-items-center">
        <div class="page-title mb-2 mb-sm-0">
          <h1>Brand upload</h1>
        </div>
        <div class="ml-auto d-flex align-items-center">
          <nav>
            <ol class="breadcrumb p-0 m-b-0">
              <li class="breadcrumb-item">
                <a href="index.html"><i class="ti ti-home"></i></a>
              </li>
              <li class="breadcrumb-item">
                Brand
              </li>
              <li class="breadcrumb-item active text-primary" aria-current="page">
                Upload</li>
            </ol>
          </nav>
        </div>
      </div>
      <!-- end page title -->
    </div>
  </div>
  <!-- end row -->
  <!-- begin row -->
  <div class="row">
    <div class="col-md-12">
      <div class="card card-statistics">

        <div class="card-heading">
          <h4 class="card-title">Brand name</h4>
        </div>

        <div class="card-body">
          <input type="text" class="form-control" placeholder="brand name">
        </div>
        <h4>Brand logo</h4>
        <input type="file" class="form-control-file" style="padding: 25px;" id="exampleFormControlFile1">
        <div class="button" style="padding: 20px; border-bottom:1px solid rgb(243, 237, 237) ">
          <button class="btn btn-primary" type="submit">Submit form</button></div>
      </div>
    </div>





  </div>
  <!-- end row -->
</div>

<div class="container-fluid">
  <!-- begin row -->
  <div class="row">
    <div class="col-md-12 m-b-30">
      <!-- begin page title -->
      <div class="d-block d-sm-flex flex-nowrap align-items-center">
        <div class="page-title mb-2 mb-sm-0">
          <h1>Data Table</h1>
        </div>
      </div>
      <!-- end page title -->
    </div>
  </div>
  <!-- end row -->
  <!-- begin row -->
  <div class="row">
    <div class="col-lg-12">
      <div class="card card-statistics">
        <div class="card-body">
          <div class="datatable-wrapper table-responsive">
            <table id="datatable" class="display compact table table-striped table-bordered">
              <caption class="btn-toolbar tableexport-caption" style="caption-side: top;">
                <!-- <button type="button" tableexport-id="5b144a9-xlsx" class="btn btn-default xlsx">Export to xlsx</button> -->
                <button onclick="download()" type="button" tableexport-id="5b144a9-xlsx"
                  class="btn btn-default xlsx">Export csv file</button>
                <a href="#" tableexport-id="20c9676-txt" class="btn btn-default txt" type="button" id="save-link">Export
                  to txt</a>
              </caption>
              <thead>

                <tr>
                  <th>Brand Image</th>
                  <th>Brand Name</th>
                  <th>Brand id</th>
                  <th>brand decription</th>
                  <th>Price</th>
                  <th>Stock status</th>

                  <th>Action</th>
                  <th>Action</th>

                </tr>
              </thead>
              <tbody>
                <tr>

                  <td><img src="/assets/img/browser-logo/bootstrap.png" alt=""></td>
                  <td>Name</td>
                  <td>12345678</td>
                  <td>Description</td>
                  <td>1000</td>
                  <td>In stock</td>
                  <td>
                    <button type="button" class="tabledit-edit-button btn btn-sm btn-primary active"
                      style="float: none;"><span class="fa fa-pencil"></span> &nbsp; EDIT</button>
                  </td>
                  <td>
                    <button type="button" class="tabledit-edit-button btn btn-sm btn-primary active"
                      style="float: none; background: red; border-color: red;"><span class="fa fa-pencil"></span> &nbsp;
                      Delete</button>
                  </td>



                </tr>
              
                <!-- </tr> -->
              </tbody>
              <tfoot>
                <tr>
                  <th>Product Image</th>
                  <th>Product Name</th>
                  <th>Product id</th>
                  <th>product decription</th>
                  <th>Price</th>
                  <th>Stock status</th>
                  <th>Action</th>
                  <th>Action</th>

                </tr>
              </tfoot>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- end row -->


  <!-- plugins -->


</div>


<script src="assets/js/vendors.js"></script>

<!-- custom app -->
<script src="assets/js/app.js"></script>
<script>
  var pop = document.getElementById("popup_item");
  var bt = document.getElementById("mybtn");
  var span = document.getElementsByClassName("close1")[0];
  bt.onclick = function () {
    pop.style.display = "block"
  }
  span.onclick = function () {
    pop.style.display = "none"
  }
</script>
<script>
  var pop_one = document.getElementById("popup_item_one");
  var btn = document.getElementById("mybtnone");
  var span_two = document.getElementsByClassName("close_two")[0];
  btn.onclick = function () {
    pop_one.style.display = "block";
  }
  span_two.onclick = function () {
    pop_one.style.display = "none";
  }
</script>
<script>
  var pop_two = document.getElementById("popup_item_two");
  var btn_two = document.getElementById("mybtn_two");
  var spanthree = document.getElementsByClassName("close_three")[0];
  btn_two.onclick = function () {
    pop_two.style.display = "block"
  }
  spanthree.onclick = function () {
    pop_two.style.display = "none"
  }
</script>
<script>
  INPUT_FILE = document.querySelector('#upload-files');
  INPUT_CONTAINER = document.querySelector('#upload-container');
  FILES_LIST_CONTAINER = document.querySelector('#files-list-container');
  FILE_LIST = [];
  let UPLOADED_FILES = [];

  multipleEvents = (element, eventNames, listener) => {
    events = eventNames.split(' ');

    events.forEach(event => {
      element.addEventListener(event, listener, false);
    });
  };

  previewImages = () => {
    FILES_LIST_CONTAINER.innerHTML = '';
    if (FILE_LIST.length > 0) {
      FILE_LIST.forEach((addedFile, index) => {
        content = `
        <div class="form__image-container js-remove-image" data-index="${index}">
          <img class="form__image" src="${addedFile.url}" alt="${addedFile.name}">
        </div>
      `;

        FILES_LIST_CONTAINER.insertAdjacentHTML('beforeEnd', content);
      });
    } else {
      console.log('empty')
      INPUT_FILE.value = "";
    }
  }

  fileUpload = () => {
    if (FILES_LIST_CONTAINER) {
      multipleEvents(INPUT_FILE, 'click dragstart dragover', () => {
        INPUT_CONTAINER.classList.add('active');
      });

      multipleEvents(INPUT_FILE, 'dragleave dragend drop change blur', () => {
        INPUT_CONTAINER.classList.remove('active');
      });

      INPUT_FILE.addEventListener('change', () => {
        files = [...INPUT_FILE.files];
        console.log("changed")
        files.forEach(file => {
          fileURL = URL.createObjectURL(file);
          fileName = file.name;
          if (!file.type.match("image/")) {
            alert(file.name + " is not an image");
            console.log(file.type)
          } else {
            uploadedFiles = {
              name: fileName,
              url: fileURL,
            };

            FILE_LIST.push(uploadedFiles);
          }
        });

        console.log(FILE_LIST) //final list of uploaded files
        previewImages();
        UPLOADED_FILES = document.querySelectorAll(".js-remove-image");
        removeFile();
      });
    }
  };

  removeFile = () => {
    UPLOADED_FILES = document.querySelectorAll(".js-remove-image");

    if (UPLOADED_FILES) {
      UPLOADED_FILES.forEach(image => {
        image.addEventListener('click', function () {
          fileIndex = this.getAttribute('data-index');

          FILE_LIST.splice(fileIndex, 1);
          previewImages();
          removeFile();
        });
      });
    } else {
      [...INPUT_FILE.files] = [];
    }
  };

  fileUpload();
  removeFile();
</script>